import { BuildOptions } from 'esbuild';

interface VercelBundlerOptions {
    /**
     * Output directory
     * @default ".vercel/output"
     */
    outputDir?: string;
    /**
     * Whether to clear the output directory if it exists.
     * @default true
     */
    clearOutputDir?: boolean;
    /**
     * Static files directory to copy to the output.
     * @default undefined
     */
    staticDir?: string;
    /**
     * Edge function entry file.
     * @default undefined
     */
    edgeEntry?: string;
    /**
     * Serverless function entry file.
     * @default undefined
     */
    serverlessEntry?: string;
    /**
     * Allow response streaming in serverless functions.
     * @default true
     */
    streaming?: boolean;
    /**
     * Callback for manipulating ESBuild options.
     */
    manipulateEsbuildOptions?: EsbuildOptionsFunction;
}
type EsbuildOptionsFunction = (options: BuildOptions, phase: "edge" | "serverless") => void | Promise<void>;
declare function bundle(options?: VercelBundlerOptions): Promise<void>;
declare function bundleEdgeFunction(entry: string, outputDir: string, manipulateEsbuildOptions?: EsbuildOptionsFunction): Promise<void>;
declare function bundleServerlessFunction(entry: string, outputDir: string, manipulateEsbuildOptions?: EsbuildOptionsFunction): Promise<void>;

export { type VercelBundlerOptions, bundle, bundleEdgeFunction, bundleServerlessFunction };
